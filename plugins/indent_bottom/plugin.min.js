tinymce.PluginManager.add("indent_bottom",function(t,n){function e(t,n){tinymce.activeEditor.undoManager.transact(function(){tinymce.activeEditor.focus(),tinymce.activeEditor.formatter[t]("indent_bottom",{value:n},null,!0),tinymce.activeEditor.nodeChanged()})}function o(){return new Promise(function(t,n){tinymce.activeEditor.dom.getParents(tinymce.activeEditor.selection.getStart(),function(n){t(n.style.marginBottom.slice(0,-2))})})}async function i(){t.windowManager.open({title:"Insert the number",body:[{type:"textbox",subtype:"number",name:"source",label:"",value:await o()}],onsubmit:function(t){e("apply",t.data.source+"px")}})}let r="Indent bottom";t.addButton("indent_bottom",{text:r,type:"menubutton",icon:!1,menu:[5,10,15,20,30,40,50,"enter","clear"].map(function(t){let n={};return"number"==typeof t&&(n.text=t+"px",n.onclick=function(){return e("apply",t+"px"),!1}),"enter"===t&&(n.text="Your number",n.onclick=function(){return i(),!1}),"clear"===t&&(n.text="Remove indent",n.onclick=function(){return e("remove",null),!1}),n}),onPostRender:function(){let n=this;t.on("NodeChange",async function(t){let e=await o(),i=r+(e?" ("+e+"px)":"");n.getEl().querySelector("span").innerHTML=i})}}),t.on("init",function(n){tinymce.get(t.id).formatter.register("indent_bottom",{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",styles:{marginBottom:"%value"},remove_similar:!0})})});